{"version":3,"sources":["core/Copyright.js","auth/index.js","core/cartHelpers.js","core/Menu.js","core/Layout.js","user/Signup.js","user/Signin.js","core/apiCore.js","config.js","core/ShowImage.js","core/Card.js","core/Search.js","core/Home.js","auth/PrivateRoute.js","user/UserDashboard.js","user/apiUser.js","auth/AdminRoute.js","user/AdminDashboard.js","admin/apiAdmin.js","admin/AddCategory.js","admin/AddProduct.js","core/Checkbox.js","core/RadioBox.js","core/fixedPrices.js","core/Shop.js","core/Product.js","core/Checkout.js","core/Cart.js","admin/Orders.js","user/Profile.js","admin/ManageProducts.js","admin/UpdateProduct.js","core/NotFound.js","Routes.js","index.js"],"names":["Copyright","Box","mt","mb","Typography","variant","color","align","Link","href","Date","getFullYear","signout","next","window","localStorage","removeItem","fetch","method","then","response","console","log","catch","err","isAuthenticated","getItem","JSON","parse","itemTotal","length","isActive","history","path","location","pathname","textDecoration","useStyles","makeStyles","theme","grow","flexGrow","menuButton","marginRight","spacing","title","breakpoints","up","display","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","withRouter","classes","React","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleMobileMenuClose","handleMenuClose","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","renderMobileMenu","style","to","IconButton","aria-label","Badge","badgeContent","user","role","cursor","push","className","AppBar","Toolbar","edge","noWrap","aria-controls","aria-haspopup","event","currentTarget","Layout","description","children","paper","marginTop","flexDirection","avatar","margin","secondary","main","form","submit","Signup","name","email","password","error","success","values","setValues","handleChange","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","Container","component","maxWidth","CssBaseline","Avatar","noValidate","Grid","container","item","xs","TextField","autoComplete","onChange","type","required","fullWidth","label","autoFocus","Button","justify","signUpForm","Signin","loading","redirectToReferrer","signin","setItem","authenticate","FormControlLabel","control","signInForm","getProducts","sortBy","getCategories","getFilteredProducts","skip","limit","filters","API","ShowImage","url","src","_id","alt","objectFit","icon","heroContent","background","heroButtons","cardGrid","paddingTop","paddingBottom","card","cardMedia","cardContent","productDescription","footer","Card","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRun","f","run","undefined","redirect","setRedirect","count","setCount","addToCart","cart","Array","from","Set","map","p","find","addItem","productId","i","updateItem","sm","md","shouldRedirect","CardContent","gutterBottom","substring","price","category","moment","createdAt","fromNow","quantity","showViewButton","showAddToCartBtn","splice","button","startIcon","showRemoveButton","showCartUpdateOptions","formControl","minWidth","selectEmpty","tField","root","Search","categories","results","searched","setData","useEffect","searchData","params","query","queryString","list","searchSubmit","e","searchMessage","onSubmit","FormControl","InputLabel","Select","labelId","displayEmpty","c","key","border","ml","searchedProducts","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","setError","PrivateRoute","Component","rest","render","props","state","Dashboard","setHistory","token","init","userId","Authorization","getPurchaseHistory","h","products","purchaseHistory","AdminRoute","AdminDashboard","AddCategory","setName","setSuccess","createCategory","showSuccess","showError","AddProduct","shipping","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","accept","Checkbox","handleFilters","checked","setCheked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","RadioBox","prices","setValue","Radio","inputProps","array","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","btn","boxShadow","filterBy","priceValues","handlePrice","parseInt","Product","setProduct","relatedProduct","setRelatedProduct","loadSingleProduct","read","listRelated","match","Checkout","clientToken","instance","address","getToken","getBraintreeClientToken","handleAddress","getTotal","reduce","currentValue","nextValue","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","showDropIn","onBlur","placeholder","options","authorization","paypal","flow","onInstance","Cart","items","setItems","showItems","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","o","oIndex","borderBottom","index","showStatus","pIndex","Profile","update","alert","auth","updateUser","profileUpdate","redirectUser","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","UpdateProduct","getProduct","initCategories","updateProduct","NotFound","fontSize","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0e986718.chunk.js","sourcesContent":["import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nexport default function Copyright() {\r\n  return (\r\n    <Box mt={8} mb={4}>\r\n      <Typography variant='body2' color='textSecondary' align='center'>\r\n        {'Copyright Â© '}\r\n        <Link color='inherit' href='#'>\r\n          yoShop\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    </Box>\r\n  );\r\n}\r\n","// import { API } from '../config';\r\n\r\nexport const signup = (user) => {\r\n  // console.log(name, email, password);\r\n  return fetch(`/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = (user) => {\r\n  // console.log(name, email, password);\r\n  return fetch(`/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.setItem('jwt', JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.removeItem('jwt');\r\n    next();\r\n    return fetch(`/signout`, {\r\n      method: 'GET',\r\n    })\r\n      .then((response) => {\r\n        console.log('signout', response);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window === 'undefined') {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem('jwt')) {\r\n    return JSON.parse(localStorage.getItem('jwt'));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","export const addItem = (item = [], count = 0, next = (f) => f) => {\r\n  let cart = [];\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      cart = JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n    cart.push({\r\n      ...item,\r\n      count: 1,\r\n    });\r\n\r\n    // remove duplicates\r\n    // build an Array from new Set and turn it back into array using Array.from\r\n    // so that later we can re-map it\r\n    // new set will only allow unique values in it\r\n    // so pass the ids of each object/product\r\n    // If the loop tries to add the same value again, it'll get ignored\r\n    // ...with the array of ids we got on when first map() was used\r\n    // run map() on it again and return the actual product from the cart\r\n\r\n    cart = Array.from(new Set(cart.map((p) => p._id))).map((id) => {\r\n      return cart.find((p) => p._id === id);\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const itemTotal = () => {\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      return JSON.parse(localStorage.getItem('cart')).length;\r\n    }\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const getCart = () => {\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      return JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n  }\r\n  return [];\r\n};\r\n\r\nexport const updateItem = (productId, count) => {\r\n  let cart = [];\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      cart = JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart[i].count = count;\r\n      }\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n  }\r\n};\r\n\r\nexport const removeItem = (productId) => {\r\n  let cart = [];\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      cart = JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart.splice(i, 1);\r\n      }\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const emptyCart = (next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.removeItem('cart');\r\n    next();\r\n  }\r\n};\r\n","import React, { Fragment } from 'react';\r\nimport { Link, withRouter, forceUpdate } from 'react-router-dom';\r\nimport { signout, isAuthenticated } from '../auth';\r\nimport { itemTotal } from './cartHelpers';\r\n\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\n\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport Button from '@material-ui/core/Button';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport StorefrontIcon from '@material-ui/icons/Storefront';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport StoreIcon from '@material-ui/icons/Store';\r\n\r\nconst isActive = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: '#ff9900', textDecoration: 'none' };\r\n  } else {\r\n    return { color: '#ffffff', textDecoration: 'none' };\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch',\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nconst MaterialAppBar = ({ history }) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const handleProfileMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const menuId = 'primary-search-account-menu';\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n      <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile';\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <div style={{ backgroundColor: '#404040' }}>\r\n        <MenuItem>\r\n          <Link style={isActive(history, '/')} to='/'>\r\n            <IconButton aria-label='Home' color='inherit'>\r\n              <HomeIcon />\r\n            </IconButton>\r\n            Home\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        <MenuItem>\r\n          <Link style={isActive(history, '/shop')} to='/shop'>\r\n            <IconButton aria-label='Shop' color='inherit'>\r\n              <StorefrontIcon />\r\n            </IconButton>\r\n            Shop\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        <MenuItem>\r\n          <Link style={isActive(history, '/cart')} to='/cart'>\r\n            <IconButton aria-label='Cart' color='inherit'>\r\n              <Badge badgeContent={itemTotal()} color='secondary'>\r\n                <ShoppingCartIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            Cart\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n          <MenuItem>\r\n            <Link\r\n              style={isActive(history, '/user/dashboard')}\r\n              to='/user/dashboard'\r\n            >\r\n              <IconButton aria-label='Dashboard' color='inherit'>\r\n                <DashboardIcon />\r\n              </IconButton>\r\n              Dashboard\r\n            </Link>\r\n          </MenuItem>\r\n        )}\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n          <MenuItem>\r\n            <Link\r\n              style={isActive(history, '/admin/dashboard')}\r\n              to='/admin/dashboard'\r\n            >\r\n              <IconButton aria-label='Dashboard' color='inherit'>\r\n                <DashboardIcon />\r\n              </IconButton>\r\n              Dashboard\r\n            </Link>\r\n          </MenuItem>\r\n        )}\r\n\r\n        {!isAuthenticated() && (\r\n          <Fragment>\r\n            <MenuItem>\r\n              <Link style={isActive(history, '/signin')} to='/signin'>\r\n                <IconButton aria-label='Signin' color='inherit'>\r\n                  <AccountCircleIcon />\r\n                </IconButton>\r\n                Signin\r\n              </Link>\r\n            </MenuItem>\r\n\r\n            <MenuItem>\r\n              <Link style={isActive(history, '/signup')} to='/signup'>\r\n                <IconButton aria-label='Signup' color='inherit'>\r\n                  <PersonAddIcon />\r\n                </IconButton>\r\n                Signup\r\n              </Link>\r\n            </MenuItem>\r\n          </Fragment>\r\n        )}\r\n\r\n        {isAuthenticated() && (\r\n          <MenuItem>\r\n            <span\r\n              style={{ cursor: 'pointer', color: '#ffffff' }}\r\n              onClick={() =>\r\n                signout(() => {\r\n                  history.push('/');\r\n                })\r\n              }\r\n            >\r\n              <IconButton aria-label='Signout' color='inherit'>\r\n                <ExitToAppIcon />\r\n              </IconButton>\r\n              Signout\r\n            </span>\r\n          </MenuItem>\r\n        )}\r\n      </div>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position='fixed'>\r\n        <Toolbar>\r\n          <a href='/' style={{ color: '#ffffff' }}>\r\n            <IconButton\r\n              edge='start'\r\n              className={classes.menuButton}\r\n              color='inherit'\r\n              aria-label='brand'\r\n            >\r\n              <StoreIcon />\r\n            </IconButton>\r\n          </a>\r\n          <a href='/' style={{ color: '#ffffff', textDecoration: 'none' }}>\r\n            <Typography className={classes.title} variant='h6' noWrap>\r\n              yoShop\r\n            </Typography>\r\n          </a>\r\n\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n            <Link style={isActive(history, '/')} to='/'>\r\n              <IconButton aria-label='Home' color='inherit'>\r\n                <HomeIcon />\r\n                <Typography noWrap>Home</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            <Link style={isActive(history, '/shop')} to='/shop'>\r\n              <IconButton aria-label='Shop' color='inherit'>\r\n                <StorefrontIcon />\r\n                <Typography noWrap>Shop</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            <Link style={isActive(history, '/cart')} to='/cart'>\r\n              <IconButton aria-label='Cart' color='inherit'>\r\n                <Badge badgeContent={itemTotal()} color='secondary'>\r\n                  <ShoppingCartIcon />\r\n                </Badge>\r\n                <Typography noWrap>Cart</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n              <Link\r\n                style={isActive(history, '/user/dashboard')}\r\n                to='/user/dashboard'\r\n              >\r\n                <IconButton aria-label='Dashboard' color='inherit'>\r\n                  <DashboardIcon />\r\n                  <Typography noWrap>Dashboard</Typography>\r\n                </IconButton>\r\n              </Link>\r\n            )}\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n              <Link\r\n                style={isActive(history, '/admin/dashboard')}\r\n                to='/admin/dashboard'\r\n              >\r\n                <IconButton aria-label='Dashboard' color='inherit'>\r\n                  <DashboardIcon />\r\n                  <Typography noWrap>Dashboard</Typography>\r\n                </IconButton>\r\n              </Link>\r\n            )}\r\n\r\n            {!isAuthenticated() && (\r\n              <Fragment>\r\n                <Link style={isActive(history, '/signin')} to='/signin'>\r\n                  <IconButton aria-label='Signin' color='inherit'>\r\n                    <AccountCircleIcon />\r\n                    <Typography noWrap>Signin</Typography>\r\n                  </IconButton>\r\n                </Link>\r\n\r\n                <Link style={isActive(history, '/signup')} to='/signup'>\r\n                  <IconButton aria-label='Signup' color='inherit'>\r\n                    <PersonAddIcon />\r\n                    <Typography noWrap>Signup</Typography>\r\n                  </IconButton>\r\n                </Link>\r\n              </Fragment>\r\n            )}\r\n\r\n            {isAuthenticated() && (\r\n              <span\r\n                style={{ cursor: 'pointer', color: '#ffffff' }}\r\n                onClick={() =>\r\n                  signout(() => {\r\n                    history.push('/');\r\n                  })\r\n                }\r\n              >\r\n                <IconButton aria-label='Signout' color='inherit'>\r\n                  <ExitToAppIcon />\r\n                  <Typography noWrap>Signout</Typography>\r\n                </IconButton>\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label='show more'\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup='true'\r\n              onClick={handleMobileMenuOpen}\r\n              color='inherit'\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(MaterialAppBar);\r\n","import React from 'react';\r\nimport Menu from './Menu';\r\nimport '../styles.css';\r\n\r\nconst Layout = ({\r\n  title = 'Title',\r\n  description = 'Description',\r\n  className,\r\n  children,\r\n}) => (\r\n  <div>\r\n    <Menu />\r\n    <div className='jumbotron mt-5'>\r\n      <h2>{title}</h2>\r\n      <p className='lead'>{description}</p>\r\n    </div>\r\n    <div className={className}>{children}</div>\r\n  </div>\r\n);\r\n\r\nexport default Layout;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n// import Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport Copyright from '../core/Copyright';\r\n\r\nimport Layout from '../core/Layout';\r\nimport { signup } from '../auth';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signup() {\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    error: '',\r\n    success: false,\r\n  });\r\n\r\n  const { name, email, password, success, error } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault(); // so that browser does not reload\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password }).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error, success: false });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: '',\r\n          email: '',\r\n          password: '',\r\n          error: '',\r\n          success: true,\r\n        });\r\n      }\r\n    }); // sending js object\r\n  };\r\n\r\n  const showError = () => (\r\n    <div\r\n      className='alert alert-danger'\r\n      style={{ display: error ? '' : 'none' }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className='alert alert-info'\r\n      style={{ display: success ? '' : 'none' }}\r\n    >\r\n      New account is created. Please <Link to='/signin'>Signin</Link>.\r\n    </div>\r\n  );\r\n\r\n  const classes = useStyles();\r\n\r\n  const signUpForm = () => (\r\n    <Container component='main' maxWidth='xs'>\r\n      {showSuccess()}\r\n      {showError()}\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component='h1' variant='h5'>\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                autoComplete='off'\r\n                onChange={handleChange('name')}\r\n                type='text'\r\n                name='name'\r\n                value={name}\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                id='name'\r\n                label='Full Name'\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                id='email'\r\n                label='Email Address'\r\n                name='email'\r\n                onChange={handleChange('email')}\r\n                type='email'\r\n                value={email}\r\n                autoComplete='off'\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                name='password'\r\n                label='Password'\r\n                type='password'\r\n                id='password'\r\n                onChange={handleChange('password')}\r\n                type='password'\r\n                value={password}\r\n                autoComplete='current-password'\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type='submit'\r\n            fullWidth\r\n            variant='contained'\r\n            color='primary'\r\n            className={classes.submit}\r\n            onClick={clickSubmit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify='flex-end'>\r\n            <Grid item>\r\n              <Link to='/signin' variant='body2'>\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Signup page'\r\n      description='Signup to MERN E-commerce App'\r\n      className='container col-md-8 offset-md-2'\r\n    >\r\n      {signUpForm()}\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport Copyright from '../core/Copyright';\r\nimport { signin, authenticate, isAuthenticated } from '../auth';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signin() {\r\n  const [values, setValues] = useState({\r\n    email: '',\r\n    password: '',\r\n    error: '',\r\n    loading: false,\r\n    redirectToReferrer: false,\r\n  });\r\n\r\n  const { email, password, loading, error, redirectToReferrer } = values;\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault(); // so that browser does not reload\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password }).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error, loading: false });\r\n      } else {\r\n        authenticate(data, () => {\r\n          setValues({\r\n            ...values,\r\n            redirectToReferrer: true,\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const showError = () => (\r\n    <div\r\n      className='alert alert-danger'\r\n      style={{ display: error ? '' : 'none' }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className='alert alert-info'>\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToReferrer) {\r\n      if (user && user.role === 1) {\r\n        return <Redirect to='/admin/dashboard' />;\r\n      } else {\r\n        return <Redirect to='/user/dashboard' />;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to='/' />;\r\n    }\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  const signInForm = () => (\r\n    <Container component='main' maxWidth='xs'>\r\n      {showError()}\r\n      {showLoading()}\r\n      {redirectUser()}\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component='h1' variant='h5'>\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant='outlined'\r\n            margin='normal'\r\n            required\r\n            fullWidth\r\n            id='email'\r\n            label='Email Address'\r\n            name='email'\r\n            autoComplete='email'\r\n            onChange={handleChange('email')}\r\n            type='email'\r\n            value={email}\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant='outlined'\r\n            margin='normal'\r\n            required\r\n            fullWidth\r\n            name='password'\r\n            label='Password'\r\n            type='password'\r\n            id='password'\r\n            onChange={handleChange('password')}\r\n            type='password'\r\n            value={password}\r\n            autoComplete='current-password'\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox value='remember' color='primary' />}\r\n            label='Remember me'\r\n          />\r\n          <Button\r\n            onClick={clickSubmit}\r\n            type='submit'\r\n            fullWidth\r\n            variant='contained'\r\n            color='primary'\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href='#' variant='body2'>\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to='/signup' variant='body2'>\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Signin page'\r\n      description='Signin to MERN E-commerce App'\r\n      className='container col-md-8 offset-md-2'\r\n    >\r\n      {signInForm()}\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n}\r\n","// import { API } from '../config';\r\nimport queryString from 'query-string';\r\n\r\nexport const getProducts = (sortBy) => {\r\n  return fetch(`/products?sortBy=${sortBy}&order=desc&limit=6`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`/categories`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n  const data = {\r\n    limit,\r\n    skip,\r\n    filters,\r\n  };\r\n  return fetch(`/products/by/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const list = (params) => {\r\n  const query = queryString.stringify(params);\r\n  console.log('query', query);\r\n  return fetch(`/products/search?${query}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const read = (productId) => {\r\n  return fetch(`/product/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listRelated = (productId) => {\r\n  return fetch(`/products/related/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n  return fetch(`/braintree/getToken/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n  return fetch(`/braintree/payment/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(paymentData),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n  return fetch(`/order/create/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: createOrderData }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","export const API = 'https://yoshopv5.herokuapp.com/api' \r\n","import React from 'react';\r\nimport { API } from '../config';\r\n\r\nconst ShowImage = ({ item, url }) => (\r\n  <div className='product-img' style={{height: '250px'}}>\r\n    <img\r\n      src={`${API}/${url}/photo/${item._id}`}\r\n      alt={item.name}\r\n      className='mb-3'\r\n      style={{ objectFit: 'contain', height: '100%', width: '100%', display: 'flex', marginLeft: 'auto', marginRight: 'auto' }}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default ShowImage;\r\n","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ShowImage from './ShowImage';\r\nimport moment from 'moment';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\r\nimport CardM from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nimport { addItem, updateItem, removeItem } from './cartHelpers';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 6),\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  cardMedia: {\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  productDescription: {\r\n    height: '100px',\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(6),\r\n  },\r\n}));\r\n\r\nconst Card = ({\r\n  product,\r\n  showViewProductButton = true,\r\n  showAddToCartButton = true,\r\n  cartUpdate = false,\r\n  showRemoveProductButton = false,\r\n  setRun = (f) => f, // default value of function\r\n  run = undefined, // default value of undefined\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  const showViewButton = (showViewProductButton) => {\r\n    return (\r\n      showViewProductButton && (\r\n        <Link href={`/product/${product._id}`} className='mr-2'>\r\n          <Button variant='contained' color='primary'>\r\n            View Product\r\n          </Button>\r\n        </Link>\r\n      )\r\n    );\r\n  };\r\n\r\n  const addToCart = () => {\r\n    // console.log('added');\r\n    addItem(product, setRedirect(true));\r\n  };\r\n\r\n  const shouldRedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to='/cart' />;\r\n    }\r\n  };\r\n\r\n  const showAddToCartBtn = (showAddToCartButton) => {\r\n    return (\r\n      showAddToCartButton && (\r\n        <Button onClick={addToCart} variant='outlined' color='secondary'>\r\n          Add to cart\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showStock = (quantity) => {\r\n    return quantity > 0 ? (\r\n      <span className='badge badge-primary badge-pill'>In Stock </span>\r\n    ) : (\r\n      <span className='badge badge-primary badge-pill'>Out of Stock </span>\r\n    );\r\n  };\r\n\r\n  const handleChange = (productId) => (event) => {\r\n    setRun(!run); // run useEffect in parent Cart\r\n    setCount(event.target.value < 1 ? 1 : event.target.value);\r\n    if (event.target.value >= 1) {\r\n      updateItem(productId, event.target.value);\r\n    }\r\n  };\r\n\r\n  const showCartUpdateOptions = (cartUpdate) => {\r\n    return (\r\n      cartUpdate && (\r\n        <div className='mt-2'>\r\n          <div className='input-group mb-3'>\r\n            <div className='input-group-prepend'>\r\n              <span className='input-group-text'>Adjust Quantity</span>\r\n            </div>\r\n            <input\r\n              type='number'\r\n              className='form-control'\r\n              value={count}\r\n              onChange={handleChange(product._id)}\r\n            />\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveButton = (showRemoveProductButton) => {\r\n    return (\r\n      showRemoveProductButton && (\r\n        <Button\r\n          onClick={() => {\r\n            removeItem(product._id);\r\n            setRun(!run); // run useEffect in parent Cart\r\n          }}\r\n          variant='contained'\r\n          color='secondary'\r\n          className={classes.button}\r\n          startIcon={<DeleteIcon />}\r\n        >\r\n          Remove Product\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    // <div className='card'>\r\n    //   <div className='card-header name'>{product.name}</div>\r\n    //   <div className='card-body'>\r\n    //     {shouldRedirect(redirect)}\r\n    //     <ShowImage item={product} url='product' />\r\n    //     <p className='lead mt-2'>{product.description.substring(0, 100)}</p>\r\n    //     <p className='black-10'>${product.price}</p>\r\n    //     <p className='black-9'>\r\n    //       Category: {product.category && product.category.name}\r\n    //     </p>\r\n    //     <p className='black-8'>\r\n    //       Added on {moment(product.createdAt).fromNow()}\r\n    //     </p>\r\n\r\n    //     {showStock(product.quantity)}\r\n    //     <br></br>\r\n\r\n    //     {showViewButton(showViewProductButton)}\r\n\r\n    //     {showAddToCartBtn(showAddToCartButton)}\r\n\r\n    //     {showRemoveButton(showRemoveProductButton)}\r\n\r\n    //     {showCartUpdateOptions(cartUpdate)}\r\n    //   </div>\r\n    // </div>\r\n\r\n    <Container className={classes.cardGrid} maxWidth='md'>\r\n      <CssBaseline />\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12} sm={12} md={12}>\r\n          <CardM className={classes.card}>\r\n            {shouldRedirect(redirect)}\r\n            <ShowImage item={product} url='product' />\r\n            <CardContent className={classes.cardContent}>\r\n              <Typography gutterBottom variant='h5' component='h2'>\r\n                {product.name}\r\n              </Typography>\r\n              <Typography className={classes.productDescription}>{product.description.substring(0, 100)}</Typography>\r\n              <p className='black-10'>Price: MK{product.price}</p>\r\n              <p className='black-9'>\r\n                Category: {product.category && product.category.name}{' '}\r\n              </p>{' '}\r\n              <p className='black-8'>\r\n                Added on {moment(product.createdAt).fromNow()}{' '}\r\n              </p>\r\n              {showStock(product.quantity)}\r\n              <br></br>\r\n              <span>\r\n                {showViewButton(showViewProductButton)}\r\n                {showAddToCartBtn(showAddToCartButton)}\r\n                {showRemoveButton(showRemoveProductButton)}\r\n              </span>\r\n              {showCartUpdateOptions(cartUpdate)}\r\n            </CardContent>\r\n          </CardM>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nimport { getCategories, list } from './apiCore';\r\nimport Card from './Card';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tField: {\r\n    width: 800,\r\n    marginTop: 2,\r\n  },\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst Search = () => {\r\n  const [data, setData] = useState({\r\n    categories: [],\r\n    category: '',\r\n    search: '',\r\n    results: [],\r\n    searched: false,\r\n  });\r\n\r\n  const { categories, category, search, results, searched } = data;\r\n\r\n  const loadCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setData({ ...data, categories: data });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const searchData = () => {\r\n    // console.log(search, category);\r\n    if (search) {\r\n      list({ search: search || undefined, category: category }).then(\r\n        (response) => {\r\n          if (response.error) {\r\n            console.log(response.error);\r\n          } else {\r\n            setData({ ...data, results: response, searched: true });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const searchSubmit = (e) => {\r\n    e.preventDefault();\r\n    searchData();\r\n  };\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setData({ ...data, [name]: event.target.value, searched: false });\r\n  };\r\n\r\n  const searchMessage = (searched, results) => {\r\n    if (searched && results.length > 0) {\r\n      return `Found ${results.length} products`;\r\n    }\r\n    if (searched && results.length < 1) {\r\n      return `Search: No products found`;\r\n    }\r\n  };\r\n\r\n  const searchedProducts = (results = []) => {\r\n    return (\r\n      <div className='row'>\r\n        <div className='col-md-1'></div>\r\n        <div className='col-md-10'>\r\n          <h2 className='mt-4 mb-4 text-center'>{searchMessage(searched, results)}</h2>\r\n          <div className='row'>\r\n            {results.map((product, i) => (\r\n              <div className='col-md-4 mb-3'>\r\n                <Card key={i} product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className='col-md-1'></div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  const searchForm = () => (\r\n    <form onSubmit={searchSubmit} className={classes.root}>\r\n      <span className='input-group-text'>\r\n        <div className='input-group input-group-lg'>\r\n          <div className='input-group-prepend'>\r\n            <FormControl className={classes.formControl}>\r\n              <InputLabel id='demo-simple-select-helper-label'>\r\n                Select\r\n              </InputLabel>\r\n              <Select\r\n                labelId='demo-simple-select-placeholder-label-label'\r\n                id='demo-simple-select-placeholder-label'\r\n                value={data.name}\r\n                onChange={handleChange('category')}\r\n                displayEmpty\r\n                className={classes.selectEmpty}\r\n              >\r\n                <MenuItem value='All'>\r\n                  <em>All</em>\r\n                </MenuItem>\r\n                {categories.map((c, i) => (\r\n                  <MenuItem key={i} value={c._id}>\r\n                    {c.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </div>\r\n\r\n          <TextField\r\n            onChange={handleChange('search')}\r\n            id='outlined-basic'\r\n            label={<span><SearchIcon/>Search by name</span>}\r\n            variant='outlined'\r\n            className={classes.tField}\r\n            autoComplete='off'\r\n          />\r\n\r\n          <div className='ml-3 mt-2' style={{ border: 'none' }}>\r\n            <Button ml={2} variant='contained' color='primary' type='submit'>\r\n              Search\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </span>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div className='row'>\r\n      <div className='container mb-3'>{searchForm()}</div>\r\n      <div className='container-fluid mb-3'>{searchedProducts(results)}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { getProducts } from './apiCore';\r\nimport Card from './Card';\r\nimport Search from './Search';\r\nimport 'fontsource-roboto';\r\nimport Copyright from './Copyright';\r\n\r\nconst Home = () => {\r\n  const [productsBySell, setProductsBySell] = useState([]);\r\n  const [productsByArrival, setProductsByArrival] = useState([]);\r\n  const [error, setError] = useState([]);\r\n\r\n  const loadProductsBySell = () => {\r\n    getProducts('sold').then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProductsBySell(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadProductsByArrival = () => {\r\n    getProducts('createdAt').then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProductsByArrival(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProductsByArrival();\r\n    loadProductsBySell();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout\r\n      title='Home page'\r\n      description='yoShop'\r\n      className='container-fluid'\r\n    >\r\n      <Search />\r\n      <div className='row'>\r\n        <div className='col-md-1'></div>\r\n        <div className='col-md-10'>\r\n          <h2 className='mb-2'>New Arrivals</h2>\r\n          <div className='row'>\r\n            {productsByArrival.map((product, i) => (\r\n              <div key={i} className='col-xl-4 col-lg-6 col-md-6 col-sm-12'>\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <h2 className='mb-2 mt-4'>Best Sellers</h2>\r\n          <div className='row'>\r\n            {productsBySell.map((product, i) => (\r\n              <div key={i} className='col-xl-4 col-lg-6 col-md-6 col-sm-12'>\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className='col-md-1'></div>\r\n      </div>\r\n\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { isAuthenticated } from './index';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated() ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: '/signin',\r\n            state: { from: props.location },\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default PrivateRoute;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { getPurchaseHistory } from './apiUser';\r\nimport moment from 'moment';\r\n\r\nconst Dashboard = () => {\r\n  const [history, setHistory] = useState([]);\r\n\r\n  const {\r\n    user: { _id, name, email, role },\r\n  } = isAuthenticated();\r\n\r\n  const token = isAuthenticated().token;\r\n\r\n  const init = (userId, token) => {\r\n    getPurchaseHistory(userId, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setHistory(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(_id, token);\r\n  }, []);\r\n\r\n  const userLinks = () => {\r\n    return (\r\n      <div className='card'>\r\n        <h4 className='card-header'>User links</h4>\r\n        <ul className='list-group'>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to='/cart'>\r\n              My cart\r\n            </Link>\r\n          </li>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to={`/profile/${_id}`}>\r\n              Update profile\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const userInfo = () => {\r\n    return (\r\n      <div className='card mb-5'>\r\n        <h3 className='card-header'>User information</h3>\r\n        <ul className='list-group'>\r\n          <li className='list-group-item'>{name}</li>\r\n          <li className='list-group-item'>{email}</li>\r\n          <li className='list-group-item'>\r\n            {role === 1 ? 'Admin' : 'Registered user'}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const purchaseHistory = (history) => {\r\n    return (\r\n      <div className='card mb-5'>\r\n        <h3 className='card-header'>Purchase history</h3>\r\n        <ul className='list-group'>\r\n          <li className='list-group-item'>\r\n            {history.map((h, i) => {\r\n              return (\r\n                <div>\r\n                  <hr />\r\n                  {h.products.map((p, i) => {\r\n                    return (\r\n                      <div key={i}>\r\n                        <h6>Product name: {p.name}</h6>\r\n                        <h6>Product price: ${p.price}</h6>\r\n                        <h6>Purchased date: {moment(p.createdAt).fromNow()}</h6>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              );\r\n            })}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title='Dashboard'\r\n      description={`${name}`}\r\n      className='container-fluid'\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-3'>{userLinks()}</div>\r\n        <div className='col-md-9'>\r\n          {userInfo()}\r\n          {purchaseHistory(history)}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { API } from '../config';\r\n\r\nexport const read = (userId, token) => {\r\n  return fetch(`${API}/user/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const update = (userId, token, user) => {\r\n  return fetch(`${API}/user/${userId}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateUser = (user, next) => {\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('jwt')) {\r\n      let auth = JSON.parse(localStorage.getItem('jwt'));\r\n      auth.user = user;\r\n      localStorage.setItem('jwt', JSON.stringify(auth));\r\n      next();\r\n    }\r\n  }\r\n};\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n  return fetch(`${API}/orders/by/user/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { isAuthenticated } from './index';\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: '/signin',\r\n            state: { from: props.location },\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default AdminRoute;\r\n","import React from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AdminDashboard = () => {\r\n  const {\r\n    user: { _id, name, email, role },\r\n  } = isAuthenticated();\r\n\r\n  const adminLinks = () => {\r\n    return (\r\n      <div className='card'>\r\n        <h4 className='card-header'>Admin Links</h4>\r\n        <ul className='list-group'>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to='/create/category'>\r\n              Create category\r\n            </Link>\r\n          </li>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to='/create/product'>\r\n              Create product\r\n            </Link>\r\n          </li>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to='/admin/orders'>\r\n              View Orders\r\n            </Link>\r\n          </li>\r\n          <li className='list-group-item'>\r\n            <Link className='nav-link' to='/admin/products'>\r\n              Manage Products\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const adminInfo = () => {\r\n    return (\r\n      <div className='card mb-5'>\r\n        <h3 className='card-header'>User information</h3>\r\n        <ul className='list-group'>\r\n          <li className='list-group-item'>{name}</li>\r\n          <li className='list-group-item'>{email}</li>\r\n          <li className='list-group-item'>\r\n            {role === 1 ? 'Admin' : 'Registered user'}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title='Dashboard'\r\n      description={`${name}`}\r\n      className='container-fluid'\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-3'>{adminLinks()}</div>\r\n        <div className='col-md-9'>{adminInfo()}</div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","// import { API } from '../config';\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`/category/create/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n  return fetch(`/product/create/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`/categories`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listOrders = (userId, token) => {\r\n  return fetch(`/order/list/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n  return fetch(`/order/status-values/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n  return fetch(`/order/${orderId}/status/${userId}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ status, orderId }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n/**\r\n * to perform crud on product\r\n * get all products\r\n * get a single product\r\n * update single product\r\n * delete single product\r\n */\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`/products?limit=undefined`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`/product/${productId}/${userId}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getProduct = (productId) => {\r\n  return fetch(`/product/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`/product/${productId}/${userId}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { createCategory } from './apiAdmin';\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState('');\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  // destructure user and token from localstorage\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const handleChange = (e) => {\r\n    setError('');\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess(false);\r\n    // make request to api to create category\r\n    createCategory(user._id, token, { name }).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setError('');\r\n        setSuccess(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const newCategoryForm = () => (\r\n    <form onSubmit={clickSubmit}>\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Name</label>\r\n        <input\r\n          type='text'\r\n          className='form-control'\r\n          onChange={handleChange}\r\n          value={name}\r\n          autoFocus\r\n          required\r\n        />\r\n      </div>\r\n      <button className='btn btn-outline-primary'>Create Category</button>\r\n    </form>\r\n  );\r\n\r\n  const showSuccess = () => {\r\n    if (success) {\r\n      return <h3 className='text-success'>{name} is created</h3>;\r\n    }\r\n  };\r\n\r\n  const showError = () => {\r\n    if (error) {\r\n      return <h3 className='text-danger'>Category should be unique</h3>;\r\n    }\r\n  };\r\n\r\n  const goBack = () => (\r\n    <div className='mt-5'>\r\n      <Link to='/admin/dashboard' className='text-warning'>\r\n        Back to Dashboard\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Add a new category'\r\n      description={`Hey ${user.name}, ready to add a new category?`}\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-8 offset-md-2'>\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { createProduct, getCategories } from './apiAdmin';\r\n\r\nconst AddProduct = () => {\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    description: '',\r\n    price: '',\r\n    categories: [],\r\n    category: '',\r\n    shipping: '',\r\n    quantity: '',\r\n    photo: '',\r\n    loading: false,\r\n    error: '',\r\n    createdProduct: '',\r\n    redirectToProfile: false,\r\n    formData: '',\r\n  });\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    categories,\r\n    category,\r\n    shipping,\r\n    quantity,\r\n    photo,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    redirectToProfile,\r\n    formData,\r\n  } = values;\r\n\r\n  // load categories and set form data\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          categories: data,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === 'photo' ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: '', loading: true });\r\n\r\n    createProduct(user._id, token, formData).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: '',\r\n          description: '',\r\n          photo: '',\r\n          price: '',\r\n          quantity: '',\r\n          loading: false,\r\n          createdProduct: data.name,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className='mb-3' onSubmit={clickSubmit}>\r\n      <h4>Post Photo</h4>\r\n      <div className='form-group'>\r\n        <label className='btn btn-secondary'>\r\n          <input\r\n            onChange={handleChange('photo')}\r\n            type='file'\r\n            name='photo'\r\n            accept='image/*'\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Name</label>\r\n        <input\r\n          onChange={handleChange('name')}\r\n          type='text'\r\n          className='form-control'\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Description</label>\r\n        <textarea\r\n          onChange={handleChange('description')}\r\n          className='form-control'\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Price</label>\r\n        <input\r\n          onChange={handleChange('price')}\r\n          type='number'\r\n          className='form-control'\r\n          value={price}\r\n        />\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Category</label>\r\n        <select onChange={handleChange('category')} className='form-control'>\r\n          <option>Please select</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Shipping</label>\r\n        <select onChange={handleChange('shipping')} className='form-control'>\r\n          <option>Please select</option>\r\n          <option value='0'>No</option>\r\n          <option value='1'>Yes</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Quantity</label>\r\n        <input\r\n          onChange={handleChange('quantity')}\r\n          type='number'\r\n          className='form-control'\r\n          value={quantity}\r\n        />\r\n      </div>\r\n\r\n      <button className='btn btn-outline-primary'>Create Product</button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className='alert alert-danger'\r\n      style={{ display: error ? '' : 'none' }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className='alert alert-info'\r\n      style={{ display: createdProduct ? '' : 'none' }}\r\n    >\r\n      <h2>{`${createdProduct}`} is created!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className='alert alert-success'>\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <Layout\r\n      title='Add a new product'\r\n      description={`Hey ${user.name}, ready to add a new product?`}\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-8 offset-md-2'>\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newPostForm()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState } from 'react';\r\nimport CheckboxM from '@material-ui/core/Checkbox';\r\n\r\nconst Checkbox = ({ categories, handleFilters }) => {\r\n  const [checked, setCheked] = useState([]);\r\n\r\n  const handleToggle = (c) => () => {\r\n    // return the first index or -1\r\n    const currentCategoryId = checked.indexOf(c);\r\n    const newCheckedCategoryId = [...checked];\r\n    // if currently checked was not already in checked state > push\r\n    // else pull/take off\r\n    if (currentCategoryId === -1) {\r\n      newCheckedCategoryId.push(c);\r\n    } else {\r\n      newCheckedCategoryId.splice(currentCategoryId, 1);\r\n    }\r\n    // console.log(newCheckedCategoryId);\r\n    setCheked(newCheckedCategoryId);\r\n    handleFilters(newCheckedCategoryId);\r\n  };\r\n\r\n  return categories.map((c, i) => (\r\n    <li key={i} className='list-unstyled'>\r\n      <CheckboxM\r\n        onChange={handleToggle(c._id)}\r\n        value={checked.indexOf(c._id === -1)}\r\n      />\r\n      <label className='form-check-label'>{c.name}</label>\r\n    </li>\r\n  ));\r\n};\r\n\r\nexport default Checkbox;\r\n","import React, { useState } from 'react';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nconst RadioBox = ({ prices, handleFilters }) => {\r\n  const [value, setValue] = useState(0);\r\n\r\n  const handleChange = (event) => {\r\n    handleFilters(event.target.value);\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  return prices.map((p, i) => (\r\n    <div className='ml-5' key={i}>\r\n      <Radio\r\n        checked={value === `${p._id}`}\r\n        onChange={handleChange}\r\n        value={`${p._id}`}\r\n        name={p}\r\n        inputProps={{ 'aria-label': 'A' }}\r\n      />\r\n      <label className='form-check-label'>{p.name}</label>\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport default RadioBox;\r\n","export const prices = [\r\n  {\r\n    _id: 0,\r\n    name: 'Any',\r\n    array: [],\r\n  },\r\n  {\r\n    _id: 1,\r\n    name: 'MK0 to MK9',\r\n    array: [0, 9],\r\n  },\r\n  {\r\n    _id: 2,\r\n    name: 'MK10 to MK19',\r\n    array: [10, 19],\r\n  },\r\n  {\r\n    _id: 3,\r\n    name: 'MK20 to MK29',\r\n    array: [20, 29],\r\n  },\r\n  {\r\n    _id: 4,\r\n    name: 'MK30 to MK39',\r\n    array: [30, 39],\r\n  },\r\n  {\r\n    _id: 5,\r\n    name: 'More than 40',\r\n    array: [40, 99],\r\n  },\r\n];\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from './Card';\r\nimport { getCategories, getFilteredProducts } from './apiCore';\r\nimport Checkbox from './Checkbox';\r\nimport RadioBox from './RadioBox';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Search from './Search';\r\nimport { prices } from './fixedPrices';\r\nimport Copyright from './Copyright';\r\n\r\nconst Shop = () => {\r\n  const [myFilters, setMyFilters] = useState({\r\n    filters: { category: [], price: [] },\r\n  });\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const [limit, setLimit] = useState(6);\r\n  const [skip, setSkip] = useState(0);\r\n  const [size, setSize] = useState(0);\r\n  const [filteredResults, setFilteredResults] = useState([]);\r\n\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadFilteredResults = (newFilters) => {\r\n    // console.log(newFilters);\r\n    getFilteredProducts(skip, limit, newFilters).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResults(data.data);\r\n        setSize(data.size);\r\n        setSkip(0);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadMore = () => {\r\n    let toSkip = skip + limit;\r\n    // console.log(newFilters);\r\n    getFilteredProducts(toSkip, limit, myFilters.filters).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResults([...filteredResults, ...data.data]);\r\n        setSize(data.size);\r\n        setSkip(toSkip);\r\n      }\r\n    });\r\n  };\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    btn: {\r\n      background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n      borderRadius: 3,\r\n      border: 0,\r\n      color: 'white',\r\n      height: 48,\r\n      padding: '0 20px',\r\n      boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n\r\n  const loadMoreButton = () => {\r\n    return (\r\n      size > 0 &&\r\n      size >= limit && (\r\n        // <button onClick={loadMore} className='btn btn-warning mb-5'>\r\n        //   Load more\r\n        // </button>\r\n        <Button onClick={loadMore} variant='contained' className={classes.btn}>\r\n          Load more\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n    loadFilteredResults(skip, limit, myFilters.filters);\r\n  }, []);\r\n\r\n  const handleFilters = (filters, filterBy) => {\r\n    // console.log(\"SHOP\", filters, filterBy);\r\n    const newFilters = { ...myFilters };\r\n    newFilters.filters[filterBy] = filters;\r\n\r\n    if (filterBy === 'price') {\r\n      let priceValues = handlePrice(filters);\r\n      newFilters.filters[filterBy] = priceValues;\r\n    }\r\n    loadFilteredResults(myFilters.filters);\r\n    setMyFilters(newFilters);\r\n  };\r\n\r\n  const handlePrice = (value) => {\r\n    const data = prices;\r\n    let array = [];\r\n\r\n    for (let key in data) {\r\n      if (data[key]._id === parseInt(value)) {\r\n        array = data[key].array;\r\n      }\r\n    }\r\n    return array;\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title='Shop page'\r\n      description='Search and find products'\r\n      className='container-fluid'\r\n    >\r\n      <Search />\r\n      <div className='row'>\r\n        <div className='col-md-3'>\r\n          <h4>Filter by categories</h4>\r\n          <ul>\r\n            <Checkbox\r\n              categories={categories}\r\n              handleFilters={(filters) => handleFilters(filters, 'category')}\r\n            />\r\n          </ul>\r\n\r\n          <h4>Filter by price range</h4>\r\n          <div>\r\n            <RadioBox\r\n              prices={prices}\r\n              handleFilters={(filters) => handleFilters(filters, 'price')}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className='col-md-9'>\r\n          <h2 className='mb-2'>Products</h2>\r\n          <div className='row'>\r\n            {filteredResults.map((product, i) => (\r\n              <div key={i} className='col-xl-4 col-lg-6 col-md-12 col-sm-12'>\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <hr />\r\n          {loadMoreButton()}\r\n        </div>\r\n      </div>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { read, listRelated } from './apiCore';\r\nimport Card from './Card';\r\n\r\nconst Product = (props) => {\r\n  const [product, setProduct] = useState({});\r\n  const [relatedProduct, setRelatedProduct] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadSingleProduct = (productId) => {\r\n    read(productId).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProduct(data);\r\n        // fetch related products\r\n        listRelated(data._id).then((data) => {\r\n          if (data.error) {\r\n            setError(data.error);\r\n          } else {\r\n            setRelatedProduct(data);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const productId = props.match.params.productId;\r\n    loadSingleProduct(productId);\r\n  }, [props]);\r\n\r\n  return (\r\n    <Layout\r\n      title={product && product.name}\r\n      description={\r\n        product && product.description && product.description.substring(0, 100)\r\n      }\r\n      className='container-fluid'\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-2'></div>\r\n        <div className='col-md-4 col-sm-12'>\r\n          <h4>Product Details</h4>\r\n          {product && product.description && (\r\n            <Card product={product} showViewProductButton={false} />\r\n          )}\r\n        </div>\r\n\r\n        <div className='col-md-4'>\r\n          <h4>Related products</h4>\r\n          {relatedProduct.map((p, i) => (\r\n            <div className='mb-3' key={i}>\r\n              <Card product={p} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className='col-md-2'></div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport {\r\n  getProducts,\r\n  getBraintreeClientToken,\r\n  processPayment,\r\n  createOrder,\r\n} from './apiCore';\r\nimport { emptyCart } from './cartHelpers';\r\nimport Card from './Card';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport DropIn from 'braintree-web-drop-in-react';\r\n\r\nconst Checkout = ({ products, setRun = (f) => f, run = undefined }) => {\r\n  const [data, setData] = useState({\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    error: '',\r\n    instance: {},\r\n    address: '',\r\n  });\r\n\r\n  const userId = isAuthenticated() && isAuthenticated().user._id;\r\n  const token = isAuthenticated() && isAuthenticated().token;\r\n\r\n  const getToken = (userId, token) => {\r\n    getBraintreeClientToken(userId, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n        setData({ ...data, error: data.error });\r\n      } else {\r\n        console.log(data);\r\n        setData({ clientToken: data.clientToken });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getToken(userId, token);\r\n  }, []);\r\n\r\n  const handleAddress = (event) => {\r\n    setData({ ...data, address: event.target.value });\r\n  };\r\n\r\n  const getTotal = () => {\r\n    return products.reduce((currentValue, nextValue) => {\r\n      return currentValue + nextValue.count * nextValue.price;\r\n    }, 0);\r\n  };\r\n\r\n  const showCheckout = () => {\r\n    return isAuthenticated() ? (\r\n      <div>{showDropIn()}</div>\r\n    ) : (\r\n      <Link to='/signin'>\r\n        <Button variant='contained' color='primary'>\r\n          Sign in to checkout\r\n        </Button>\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  let deliveryAddress = data.address;\r\n\r\n  const buy = () => {\r\n    setData({ loading: true });\r\n    // send the nonce to your server\r\n    // nonce = data.instance.requestPaymentMethod()\r\n    let nonce;\r\n    let getNonce = data.instance\r\n      .requestPaymentMethod()\r\n      .then((data) => {\r\n        // console.log(data);\r\n        nonce = data.nonce;\r\n        // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\r\n        // and also total to be charged\r\n        // console.log(\r\n        //     \"send nonce and total to process: \",\r\n        //     nonce,\r\n        //     getTotal(products)\r\n        // );\r\n        const paymentData = {\r\n          paymentMethodNonce: nonce,\r\n          amount: getTotal(products),\r\n        };\r\n\r\n        processPayment(userId, token, paymentData)\r\n          .then((response) => {\r\n            console.log(response);\r\n            // empty cart\r\n            // create order\r\n\r\n            const createOrderData = {\r\n              products: products,\r\n              transaction_id: response.transaction.id,\r\n              amount: response.transaction.amount,\r\n              address: deliveryAddress,\r\n            };\r\n\r\n            createOrder(userId, token, createOrderData)\r\n              .then((response) => {\r\n                emptyCart(() => {\r\n                  setRun(!run); // run useEffect in parent Cart\r\n                  console.log('payment success and empty cart');\r\n                  setData({\r\n                    loading: false,\r\n                    success: true,\r\n                  });\r\n                });\r\n              })\r\n              .catch((error) => {\r\n                console.log(error);\r\n                setData({ loading: false });\r\n              });\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            setData({ loading: false });\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        // console.log(\"dropin error: \", error);\r\n        setData({ ...data, error: error.message });\r\n      });\r\n  };\r\n\r\n  const showDropIn = () => (\r\n    <div onBlur={() => setData({ ...data, error: '' })}>\r\n      {data.clientToken !== null && products.length > 0 ? (\r\n        <div>\r\n          <div className='gorm-group mb-3'>\r\n            <label className='text-muted'>Delivery address:</label>\r\n            <textarea\r\n              onChange={handleAddress}\r\n              className='form-control'\r\n              value={data.address}\r\n              placeholder='Type your delivery address here...'\r\n            />\r\n          </div>\r\n\r\n          <DropIn\r\n            options={{\r\n              authorization: data.clientToken,\r\n              paypal: {\r\n                flow: 'vault',\r\n              },\r\n            }}\r\n            onInstance={(instance) => (data.instance = instance)}\r\n          />\r\n          <button onClick={buy} className='btn btn-success btn-block'>\r\n            Pay\r\n          </button>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n\r\n  const showError = (error) => (\r\n    <div\r\n      className='alert alert-danger'\r\n      style={{ display: error ? '' : 'none' }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = (success) => (\r\n    <div\r\n      className='alert alert-info'\r\n      style={{ display: success ? '' : 'none' }}\r\n    >\r\n      Thanks! Your payment was successful!\r\n    </div>\r\n  );\r\n\r\n  const showLoading = (loading) =>\r\n    loading && <h2 className='text-danger'>Loading...</h2>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Total: ${getTotal()}</h2>\r\n      {showLoading(data.loading)}\r\n      {showSuccess(data.success)}\r\n      {showError(data.error)}\r\n      {showCheckout()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from './Layout';\r\nimport { getCart } from './cartHelpers';\r\nimport Card from './Card';\r\nimport Checkout from './Checkout';\r\n\r\nimport Copyright from './Copyright';\r\n\r\nconst Cart = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [run, setRun] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setItems(getCart());\r\n  }, [run]);\r\n\r\n  const showItems = (items) => {\r\n    return (\r\n      <div>\r\n        <h2>Your cart has {`${items.length}`} items</h2>\r\n        <hr />\r\n        {items.map((product, i) => (\r\n          <Card\r\n            key={i}\r\n            product={product}\r\n            showAddToCartButton={false}\r\n            cartUpdate={true}\r\n            showRemoveProductButton={true}\r\n            setRun={setRun}\r\n            run={run}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const noItemsMessage = () => (\r\n    <h2>\r\n      Your cart is empty. <br /> <Link to='/shop'>Continue shopping</Link>\r\n    </h2>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Shopping Cart'\r\n      description='Manage your cart items. Add remove checkout or continue shopping.'\r\n      className='container-fluid'\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-2'></div>\r\n        <div className='col-md-4'>\r\n          {items.length > 0 ? showItems(items) : noItemsMessage()}\r\n        </div>\r\n        <div className='col-md-4'>\r\n          <h2 className='mb-4'>Your cart summary</h2>\r\n          <hr />\r\n          <Checkout products={items} setRun={setRun} run={run} />\r\n        </div>\r\n        <div className='col-md-2'></div>\r\n      </div>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { listOrders, getStatusValues, updateOrderStatus } from './apiAdmin';\r\nimport moment from 'moment';\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [statusValues, setStatusValues] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadOrders = () => {\r\n    listOrders(user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setOrders(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadStatusValues = () => {\r\n    getStatusValues(user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setStatusValues(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadOrders();\r\n    loadStatusValues();\r\n  }, []);\r\n\r\n  const showOrdersLength = () => {\r\n    if (orders.length > 0) {\r\n      return (\r\n        <h1 className='text-danger display-2'>Total orders: {orders.length}</h1>\r\n      );\r\n    } else {\r\n      return <h1 className='text-danger'>No orders</h1>;\r\n    }\r\n  };\r\n\r\n  const showInput = (key, value) => (\r\n    <div className='input-group mb-2 mr-sm-2'>\r\n      <div className='input-group-prepend'>\r\n        <div className='input-group-text'>{key}</div>\r\n      </div>\r\n      <input type='text' value={value} className='form-control' readOnly />\r\n    </div>\r\n  );\r\n\r\n  const handleStatusChange = (e, orderId) => {\r\n    updateOrderStatus(user._id, token, orderId, e.target.value).then((data) => {\r\n      if (data.error) {\r\n        console.log('Status update failed');\r\n      } else {\r\n        loadOrders();\r\n      }\r\n    });\r\n    // console.log('update order status');\r\n  };\r\n\r\n  const showStatus = (o) => (\r\n    <div className='form-group'>\r\n      <h3 className='mark mb-4'>Status: {o.status}</h3>\r\n      <select\r\n        className='form-control'\r\n        onChange={(e) => handleStatusChange(e, o._id)}\r\n      >\r\n        <option>Update Status</option>\r\n        {statusValues.map((status, index) => (\r\n          <option key={index} value={status}>\r\n            {status}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Orders'\r\n      description={`Hey ${user.name}, you can manage all the ordes here`}\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-8 offset-md-2'>\r\n          {showOrdersLength()}\r\n\r\n          {orders.map((o, oIndex) => {\r\n            return (\r\n              <div\r\n                className='mt-5'\r\n                key={oIndex}\r\n                style={{ borderBottom: '5px solid indigo' }}\r\n              >\r\n                <h2 className='mb-5'>\r\n                  <span className='bg-primary'>Order ID: {o._id}</span>\r\n                </h2>\r\n\r\n                <ul className='list-group mb-2'>\r\n                  <li className='list-group-item'>{showStatus(o)}</li>\r\n                  <li className='list-group-item'>\r\n                    Transaction ID: {o.transaction_id}\r\n                  </li>\r\n                  <li className='list-group-item'>Amount: ${o.amount}</li>\r\n                  <li className='list-group-item'>Ordered by: {o.user.name}</li>\r\n                  <li className='list-group-item'>\r\n                    Ordered on: {moment(o.createdAt).fromNow()}\r\n                  </li>\r\n                  <li className='list-group-item'>\r\n                    Delivery address: {o.address}\r\n                  </li>\r\n                </ul>\r\n\r\n                <h3 className='mt-4 mb-4 font-italic'>\r\n                  Total products in the order: {o.products.length}\r\n                </h3>\r\n\r\n                {o.products.map((p, pIndex) => (\r\n                  <div\r\n                    className='mb-4'\r\n                    key={pIndex}\r\n                    style={{ padding: '20px', border: '1px solid indigo' }}\r\n                  >\r\n                    {showInput('Product name', p.name)}\r\n                    {showInput('Product price', p.price)}\r\n                    {showInput('Product total', p.count)}\r\n                    {showInput('Product Id', p._id)}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { read, update, updateUser } from './apiUser';\r\n\r\nconst Profile = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    error: false,\r\n    success: false,\r\n  });\r\n\r\n  const { token } = isAuthenticated();\r\n  const { name, email, password, error, success } = values;\r\n\r\n  const init = (userId) => {\r\n    // console.log(userId);\r\n    read(userId, token).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: true });\r\n      } else {\r\n        setValues({ ...values, name: data.name, email: data.email });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(match.params.userId);\r\n  }, []);\r\n\r\n  const handleChange = (name) => (e) => {\r\n    setValues({ ...values, error: false, [name]: e.target.value });\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    update(match.params.userId, token, { name, email, password }).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          // console.log(data.error);\r\n          alert(data.error);\r\n        } else {\r\n          updateUser(data, () => {\r\n            setValues({\r\n              ...values,\r\n              name: data.name,\r\n              email: data.email,\r\n              success: true,\r\n            });\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const redirectUser = (success) => {\r\n    if (success) {\r\n      return <Redirect to='/user/dashboard' />;\r\n    }\r\n  };\r\n\r\n  const profileUpdate = (name, email, password) => (\r\n    <form>\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Name</label>\r\n        <input\r\n          type='text'\r\n          onChange={handleChange('name')}\r\n          className='form-control'\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Email</label>\r\n        <input\r\n          type='email'\r\n          onChange={handleChange('email')}\r\n          className='form-control'\r\n          value={email}\r\n        />\r\n      </div>\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Password</label>\r\n        <input\r\n          type='password'\r\n          onChange={handleChange('password')}\r\n          className='form-control'\r\n          value={password}\r\n        />\r\n      </div>\r\n\r\n      <button onClick={clickSubmit} className='btn btn-primary'>\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Profile'\r\n      description='Update your profile'\r\n      className='container-fluid'\r\n    >\r\n      <h2 className='mb-4'>Profile update</h2>\r\n      {profileUpdate(name, email, password)}\r\n      {redirectUser(success)}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { getProducts, deleteProduct } from './apiAdmin';\r\n\r\nconst ManageProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadProducts = () => {\r\n    getProducts().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const destroy = (productId) => {\r\n    deleteProduct(productId, user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        loadProducts();\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout\r\n      title='Manage Products'\r\n      description='Perform CRUD on products'\r\n      className='container-fluid'\r\n    >\r\n      <div className='row'>\r\n        <div className='col-12'>\r\n          <h2 className='text-center'>Total {products.length} products</h2>\r\n          <hr />\r\n          <ul className='list-group'>\r\n            {products.map((p, i) => (\r\n              <li\r\n                key={i}\r\n                className='list-group-item d-flex justify-content-between align-items-center'\r\n              >\r\n                <strong>{p.name}</strong>\r\n                <Link to={`/admin/product/update/${p._id}`}>\r\n                  <span className='badge badge-warning badge-pill'>Update</span>\r\n                </Link>\r\n                <Link>\r\n                  <span\r\n                    onClick={() => destroy(p._id)}\r\n                    className='badge badge-danger badge-pill'\r\n                  >\r\n                    Delete\r\n                  </span>\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { getProduct, getCategories, updateProduct } from './apiAdmin';\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    description: '',\r\n    price: '',\r\n    categories: [],\r\n    category: '',\r\n    shipping: '',\r\n    quantity: '',\r\n    photo: '',\r\n    loading: false,\r\n    error: false,\r\n    createdProduct: '',\r\n    redirectToProfile: false,\r\n    formData: '',\r\n  });\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    // categories,\r\n    category,\r\n    shipping,\r\n    quantity,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    redirectToProfile,\r\n    formData,\r\n  } = values;\r\n\r\n  const init = (productId) => {\r\n    getProduct(productId).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        // populate the state\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          shipping: data.shipping,\r\n          quantity: data.quantity,\r\n          formData: new FormData(),\r\n        });\r\n        // load categories\r\n        initCategories();\r\n      }\r\n    });\r\n  };\r\n\r\n  // load categories and set form data\r\n  const initCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(match.params.productId);\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === 'photo' ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: '', loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: '',\r\n            description: '',\r\n            photo: '',\r\n            price: '',\r\n            quantity: '',\r\n            loading: false,\r\n            error: false,\r\n            redirectToProfile: true,\r\n            createdProduct: data.name,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className='mb-3' onSubmit={clickSubmit}>\r\n      <h4>Post Photo</h4>\r\n      <div className='form-group'>\r\n        <label className='btn btn-secondary'>\r\n          <input\r\n            onChange={handleChange('photo')}\r\n            type='file'\r\n            name='photo'\r\n            accept='image/*'\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Name</label>\r\n        <input\r\n          onChange={handleChange('name')}\r\n          type='text'\r\n          className='form-control'\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Description</label>\r\n        <textarea\r\n          onChange={handleChange('description')}\r\n          className='form-control'\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Price</label>\r\n        <input\r\n          onChange={handleChange('price')}\r\n          type='number'\r\n          className='form-control'\r\n          value={price}\r\n        />\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Category</label>\r\n        <select onChange={handleChange('category')} className='form-control'>\r\n          <option>Please select</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Shipping</label>\r\n        <select onChange={handleChange('shipping')} className='form-control'>\r\n          <option>Please select</option>\r\n          <option value='0'>No</option>\r\n          <option value='1'>Yes</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className='form-group'>\r\n        <label className='text-muted'>Quantity</label>\r\n        <input\r\n          onChange={handleChange('quantity')}\r\n          type='number'\r\n          className='form-control'\r\n          value={quantity}\r\n        />\r\n      </div>\r\n\r\n      <button className='btn btn-outline-primary'>Update Product</button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className='alert alert-danger'\r\n      style={{ display: error ? '' : 'none' }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className='alert alert-info'\r\n      style={{ display: createdProduct ? '' : 'none' }}\r\n    >\r\n      <h2>{`${createdProduct}`} is updated!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className='alert alert-success'>\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToProfile) {\r\n      if (!error) {\r\n        return <Redirect to='/' />;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title='Add a new product'\r\n      description={`G'day MK{user.name}, ready to add a new product?`}\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-8 offset-md-2'>\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newPostForm()}\r\n          {redirectUser()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { Fragment } from 'react';\r\nimport Layout from './Layout';\r\nimport Copyright from './Copyright';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Layout\r\n      title='Error: 404'\r\n      description='Page Not Found'\r\n      className='container-fluid'\r\n    >\r\n      <Typography variant='h3' gutterBottom>\r\n        <WarningIcon style={{ fontSize: 50, color: '#FF7D00' }} /> Sorry, this page does not\r\n        exist!\r\n      </Typography>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport Signup from './user/Signup';\r\nimport Signin from './user/Signin';\r\nimport Home from './core/Home';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport Dashboard from './user/UserDashboard';\r\nimport AdminRoute from './auth/AdminRoute';\r\nimport AdminDashboard from './user/AdminDashboard';\r\nimport AddCategory from './admin/AddCategory';\r\nimport AddProduct from './admin/AddProduct';\r\nimport Shop from './core/Shop';\r\nimport Product from './core/Product';\r\nimport Cart from './core/Cart';\r\nimport Orders from './admin/Orders';\r\nimport Profile from './user/Profile';\r\nimport ManageProducts from './admin/ManageProducts';\r\nimport UpdateProduct from './admin/UpdateProduct';\r\nimport NotFound from './core/NotFound';\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path='/' component={Home} exact />\r\n        <Route path='/shop' component={Shop} exact />\r\n        <Route path='/signin' component={Signin} exact />\r\n        <Route path='/signup' component={Signup} exact />\r\n        <PrivateRoute path='/user/dashboard' component={Dashboard} exact />\r\n        <AdminRoute path='/admin/dashboard' component={AdminDashboard} exact />\r\n        <AdminRoute path='/create/category' component={AddCategory} exact />\r\n        <AdminRoute path='/create/product' component={AddProduct} exact />\r\n        <Route path='/product/:productId' component={Product} exact />\r\n        <Route path='/cart' component={Cart} exact />\r\n        <AdminRoute path='/admin/orders' component={Orders} exact />\r\n        <PrivateRoute path='/profile/:userId' component={Profile} exact />\r\n        <AdminRoute path='/admin/products' component={ManageProducts} exact />\r\n        <AdminRoute\r\n          path='/admin/product/update/:productId'\r\n          component={UpdateProduct}\r\n          exact\r\n        />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Routes from './Routes';\r\n\r\nReactDOM.render(<Routes />, document.getElementById('root'));\r\n"],"sourceRoot":""}